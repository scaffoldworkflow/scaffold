version: v1
name: hello_world
groups:
- foo
inputs:
- name: greeting_name
  description: "Who to say hello to"
  default: "World"
  type: plaintext
tasks:
- name: setup_message
  kind: local
  run: |
    export message="Hello ${greeting_name}"
    echo "message stored"
  store:
    env:
      - message
  inputs:
    greeting_name: greeting_name
- name: echo_message
  kind: local
  auto_execute: true
  depends_on:
    success:
      - setup_message
  run: |
    echo "${message}"
  load:
    env:
      - message
